{% extends "base.html" %}

{% block title %}Question List Page{% endblock %}

{% block content %}
    <h1>Question list</h1>
    <br>
    <br>
    <label for="">sort by:</label>
    <form action="{{ url_for('list_page')}}" method="get">
    <select name="sort" id="sort">

        <option value="submission_time">time</option>
        <option value="view_number">view numbers</option>
        <option value="vote_number">vote numbers</option>
        <option value="title">title</option>
        <option value="message">description</option>
    </select>

    <select name="direction" id="direction">
        <option value="asc">Ascending</option>
        <option value="desc">Descending</option>
    </select>
    <button type="submit">Order</button>
    </form>
    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Submission_time</th>
                <th>View_number</th>
                <th>Vote_number</th>
                <th>Title</th>
                <th>Message</th>
                <th>Image</th>
                <th>Vote Up/Down</th>
            </tr>
        </thead>
        {% for question in data %}
        <tr>
            <td>{{ question.id }}</td>
            <td>{{ question.submission_time }}</td>
            <td>{{ question.view_number }}</td>
            <td>{{ question.vote_number  }}</td>
            <td><a href="{{ url_for('question', id=question['id']) }}">{{ question.title}}</a></td>
            <td>{{ question.message }}</td>
            <td><img src="static/images/{{ question.image }}" alt="" width="250px" height="200px"></td>
            <td><a href="{{ url_for('vote_up', id=question.id) }}"><button type="button">Up Vote</button></a><a href="{{ url_for('vote_down', id=question.id) }}"><button type="button">Down Vote</button></a>
        </tr>

        {% endfor %}
    </table>
    <br>
    <a href="{{ url_for('add_question_page') }}">Ask a question</a>
{% endblock %}